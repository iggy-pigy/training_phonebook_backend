{"version":3,"sources":["components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","props","person","deleteFunc","name","number","onClick","window","confirm","id","Persons","persons","deletePersonFunc","console","log","map","key","baseUrl","axios","get","then","response","data","newObject","post","delete","Notification","message","style","color","fontStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filterTerm","setFilterTerm","filterResult","setFilterResult","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","catch","error","React","results","filter","toLowerCase","includes","onChange","event","target","value","onSubmit","preventDefault","contactObject","length","returnedPersons","concat","setTimeout","type","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ad21b8e.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = (props) => {\n    const { person, deleteFunc } = props\n    //const handleDelete = () => { deleteFunc(person.id) }\n    return (\n        <li>\n            <h5> {person.name} {person.number} <button onClick={() => { if (window.confirm(`Delete ${person.name}?`)) { deleteFunc(person.id) }; }} >Delete</button></h5>\n        </li>\n    );\n};\n\nexport default Person;","import React from 'react';\nimport Person from \"./Person\";\n\nconst Persons = (props) => {\n    const { persons, deletePersonFunc } = props\n    console.log(props);\n    return (\n        <div>\n            <ul>\n                {persons.map(person => <Person key={person.name} person={person} deleteFunc={deletePersonFunc} />)}\n            </ul>\n        </div>\n    );\n};\n\n\n\nexport default Persons;","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'https://stark-fjord-63024.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    //return axios.get(baseUrl)\n\n    //assign the promise to the request variable\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    //return axios.post(baseUrl, newObject)\n\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    //return axios.put(`${baseUrl}/${id}`, newObject)\n\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    //No data is sent with the request\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n    /*getAll: getAll,\n    create: create,\n    update: update\n    remove: remove*/\n    getAll, create, update, remove\n}","import React from 'react';\n\nfunction Notification({ message }) {\n    const messageStyle = {\n        color: 'green',\n        fontStyle: 'italic',\n        fontSize: 20,\n        background: 'lightGrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n        return null\n    }\n    return (\n        <div style={messageStyle}>\n            {message}\n        </div>\n    );\n}\n\nexport default Notification;","import React from 'react';\n\nfunction ErrorNotification({ message }) {\n    const messageStyle = {\n        color: 'red',\n        fontStyle: 'italic',\n        fontSize: 20,\n        background: 'lightGrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n        return null\n    }\n    return (\n        <div style={messageStyle}>\n            {message}\n        </div>\n    );\n}\n\nexport default ErrorNotification;","import React, { useState, useEffect } from 'react';\nimport Persons from \"./components/Persons\";\n//import axios from \"axios\";\n\n//imported module from services directory\nimport personsService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterTerm, setFilterTerm] = useState(\"\")\n  const [filterResult, setFilterResult] = useState([])\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n\n    /*axios\n      .get('http://localhost:3001/persons')*/\n\n    personsService\n      .getAll()\n      //.then(response => {}\n      .then(initialPersons => {\n\n        //setPersons(response.data)\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        console.log('fail')\n      })\n  }, [])\n\n  const setNewContact = (event) => {\n    event.preventDefault();\n    const contactObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n\n    personsService\n      .create(contactObject)\n      //.then(response => {}\n      .then(returnedPersons => {\n\n        //setPersons(persons.concat(response.data))\n        setPersons(persons.concat(returnedPersons))\n        setNewName(\"\")\n        setNewNumber(\"\")\n        setSuccessMessage(`Added ${contactObject.name}.`)\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        console.log('fail')\n      })\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilterTerm(event.target.value);\n  }\n\n  React.useEffect(() => {\n    const results = persons.filter(person =>\n      person.name.toLowerCase().includes(filterTerm.toLowerCase())\n    );\n    setFilterResult(results);\n  }, [filterTerm]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n\n  const deletePerson = (id) => {\n    const person = persons.find(person => person.id === id)\n    console.log(person.name);\n    personsService\n      .remove(id)\n      .catch(error => {\n        setErrorMessage(\n          `Information of ${person.name} has already been removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setPersons(persons.filter(person => (person.id !== id)))\n      })\n    //const filteredPersons = persons.filter(person => (person.id !== id))\n\n  };\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <h5>filter shown with: <input onChange={handleFilter} value={filterTerm} /></h5>\n      <h2>add a new</h2>\n      <form onSubmit={setNewContact}>\n        <div>\n          name: <input onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons persons={filterResult} deletePersonFunc={deletePerson} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}